Pelican BibTeX
==============

Organize your scientific publications with BibTeX in Pelican

Author of this fork: Emmanuel Fleury (perror)
Original Author: Vlad Niculae (vene, https://github.com/vene/pelican-bibtex/)

*Note*: This code is unlicensed. It was not submitted to the `pelican-plugins`
official repository because of the license constraint imposed there.

History
=======

- Aug 3, 2013 (Vlad Niculae): Initial release of the pelican plugin.
- Jul 21, 2014 (Emmanuel Fleury): Added a few features and releasing version 0.3. 


Requirements
============

`pelican_bibtex` requires `pybtex`.

```bash
pip install pybtex
```

How to Use
==========

This plugin reads a user-specified BibTeX file and populates the context with
a list of publications, ready to be used in your Jinja2 template.

Configuration is simply:

```python
PUBLICATIONS_SRC = 'content/pubs.bib'
```

If the file is present and readable, you will be able to find the `publications`
variable in all templates.  It is a list of dictionary  with the following keys:

```
(key, year, text, bibtex, pdf, slides, poster)
```
- `entry` is the type of BibTeX entry is comes out as a couple with `(rank, label)`.
- `key` is the BibTeX key (identifier) of the entry.
- `year` is the year when the entry was published.  Useful for grouping by year in templates using Jinja's `groupby`.
- `text` is the HTML formatted entry, generated by `pybtex`.
- `bibtex` is a string containing BibTeX code for the entry, useful to make it
available to people who want to cite your work.
- `doi` is the DOI identification number.
- `url` is the URL where to get the material or where to contact the publisher to get it.
- `pdf`, `slides`, `poster` are special fields added to regular BibTeX fields to point to your publication work, for example:
```
@article{
   foo13
   ...
   pdf = {/papers/foo13.pdf},
   slides = {/slides/foo13.html}
}
```
This plugin will take all defined fields and make them available in the template.
If a field is not defined, the tuple field will be `None`.  Furthermore, the
fields are stripped from the generated BibTeX (found in the `bibtex` field).


Template Example
================

You probably want to define a 'publications.html' direct template.
Don't forget to add it to the `DIRECT\_TEMPLATES` configuration key.
Note that we are escaping the BibTeX string twice in order to properly
display it.

```python
{% extends "base.html" %}
{% block title %}Publications{% endblock %}
{% block content %}

<section id="content" class="body">
  <div class="container">
    {% for group in publications|groupby('entry') %}
    <h2>{{ group.grouper[1] }}</h2>
    <ul>
      {% for publication in group.list|sort(attribute='year')|reverse %}
      <li id="{{ publication.key }}">{{ publication.text }}
        [<a href="javascript:disp('{{ publication.bibtex|replace('\n', '\\n')|escape }}');">Bibtex</a>]
        {% for label, target in [('PDF', publication.pdf), ('Slides', publication.slides), ('Poster', publication.poster)] %}
        {{ "[<a href=\"publications/%s\">%s</a>]" % (target, label) if target }}
        {% endfor %}
      </li>
      {% endfor %}
    </ul>
    {% endfor %}
  </div>
</section>
{% endblock %}
```

Extending this plugin
=====================

A relatively simple but possibly useful extension is to make it possible to
write internal links in Pelican pages and blog posts that would point to the
corresponding paper in the Publications page.

A slightly more complicated idea is to support general referencing in articles
and pages, by having some BibTeX entries local to the page, and rendering the
bibliography at the end of the article, with anchor links pointing to the right
place.
